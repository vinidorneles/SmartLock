# =================================================================
# SMART LOCK SYSTEM - Environment Variables Example
# =================================================================
# Copy this file to .env and update with your actual values
# Never commit the .env file to version control!
# =================================================================

# =================================================================
# APPLICATION SETTINGS
# =================================================================
NODE_ENV=development
PORT=3001
APP_NAME="Smart Lock System"
APP_VERSION=1.0.0
APP_URL=http://localhost:3001

# Security
CORS_ORIGIN=http://localhost:3000,http://localhost:19006
TRUST_PROXY=false

# =================================================================
# DATABASE CONFIGURATION
# =================================================================
# PostgreSQL Database URL
DATABASE_URL=postgresql://smartlock_user:your_db_password_here@localhost:5432/smartlock

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=60000

# Database SSL (set to true in production)
DB_SSL=false

# =================================================================
# REDIS CONFIGURATION
# =================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=your_redis_password_here
REDIS_PREFIX=smartlock:
REDIS_TTL=3600

# Redis for sessions
REDIS_SESSION_DB=1

# Redis for caching
REDIS_CACHE_DB=2

# =================================================================
# AUTHENTICATION & SECURITY
# =================================================================
# JWT Settings (CHANGE IN PRODUCTION!)
JWT_SECRET=your_super_secret_jwt_key_change_in_production_2025
JWT_EXPIRES_IN=8h
JWT_REFRESH_EXPIRES_IN=7d

# Session Settings
SESSION_SECRET=your_session_secret_change_in_production_2025
SESSION_MAX_AGE=86400000

# Bcrypt Rounds (10-12 recommended for production)
BCRYPT_ROUNDS=10

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Login specific rate limiting
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5

# =================================================================
# EMAIL CONFIGURATION
# =================================================================
# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=sistema@suauniversidade.edu.br
SMTP_PASS=your_app_password_here

# Email Templates
EMAIL_FROM_ADDRESS=sistema@suauniversidade.edu.br
EMAIL_FROM_NAME="Smart Lock System"
EMAIL_SUPPORT_ADDRESS=suporte@suauniversidade.edu.br

# Email Features
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_EMAIL_REMINDERS=true

# =================================================================
# HARDWARE INTEGRATION
# =================================================================
# Hardware Communication
HARDWARE_TIMEOUT=5000
HARDWARE_RETRY_ATTEMPTS=3
HARDWARE_RETRY_DELAY=1000

# Default Settings
DEFAULT_UNLOCK_DURATION=30
MAX_UNLOCK_DURATION=300
MIN_UNLOCK_DURATION=10

# Hardware Authentication
HARDWARE_API_TOKEN=your_hardware_api_token_here
HARDWARE_ENCRYPTION_KEY=your_hardware_encryption_key_here

# =================================================================
# LOGGING CONFIGURATION
# =================================================================
# Log Levels: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Log Files
LOG_FILE=logs/smartlock.log
ERROR_LOG_FILE=logs/error.log
ACCESS_LOG_FILE=logs/access.log

# Log Rotation
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14
LOG_DATE_PATTERN=YYYY-MM-DD

# =================================================================
# FILE UPLOAD SETTINGS
# =================================================================
# Upload Limits
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_MAX_FILES=5

# Upload Directories
UPLOAD_DIR=uploads
QR_CODES_DIR=uploads/qr-codes
USER_PHOTOS_DIR=uploads/user-photos
EQUIPMENT_PHOTOS_DIR=uploads/equipment-photos

# Allowed File Types
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/gif,image/webp
ALLOWED_DOCUMENT_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# =================================================================
# WEBSOCKET CONFIGURATION
# =================================================================
WS_PORT=3002
WS_PATH=/ws
WS_CORS_ORIGIN=http://localhost:3000,http://localhost:19006
WS_HEARTBEAT_INTERVAL=30000
WS_CLIENT_TIMEOUT=60000

# =================================================================
# CRON JOBS CONFIGURATION
# =================================================================
# Enable/Disable Cron Jobs
ENABLE_CRON_JOBS=true

# Cron Schedules (in cron format)
# Check overdue loans every 30 minutes
CRON_CHECK_OVERDUE=*/30 * * * *

# Send reminder emails every hour
CRON_SEND_REMINDERS=0 * * * *

# Clean up old logs daily at 2 AM
CRON_CLEANUP_LOGS=0 2 * * *

# Generate daily reports at 6 AM
CRON_DAILY_REPORTS=0 6 * * *

# Backup database daily at 3 AM
CRON_BACKUP_DB=0 3 * * *

# =================================================================
# NOTIFICATION SETTINGS
# =================================================================
# Push Notifications (if using Firebase or similar)
FCM_SERVER_KEY=your_fcm_server_key_here
FCM_PROJECT_ID=your_fcm_project_id_here

# Notification Settings
NOTIFICATION_REMINDER_HOURS=2,24
NOTIFICATION_OVERDUE_HOURS=1,6,24

# =================================================================
# EXTERNAL SERVICES
# =================================================================
# University LDAP/Active Directory (optional)
LDAP_URL=ldap://ldap.universidade.edu.br
LDAP_BIND_DN=cn=admin,dc=universidade,dc=edu,dc=br
LDAP_BIND_PASSWORD=your_ldap_password_here
LDAP_SEARCH_BASE=ou=users,dc=universidade,dc=edu,dc=br

# University API Integration (optional)
UNIVERSITY_API_URL=https://api.universidade.edu.br/v1
UNIVERSITY_API_KEY=your_university_api_key_here

# =================================================================
# MONITORING & METRICS
# =================================================================
# Prometheus Metrics
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Health Check
HEALTH_CHECK_PATH=/health

# =================================================================
# DEVELOPMENT SETTINGS
# =================================================================
# Development Only - Remove in Production
DEBUG_MODE=false
ENABLE_SWAGGER_DOCS=true
SWAGGER_PATH=/api-docs

# Mock Hardware (for development/testing)
MOCK_HARDWARE=false
MOCK_HARDWARE_DELAY=1000
MOCK_HARDWARE_FAIL_RATE=0.1

# =================================================================
# TIMEZONE & LOCALIZATION
# =================================================================
TZ=America/Sao_Paulo
LOCALE=pt-BR
DATE_FORMAT=DD/MM/YYYY
TIME_FORMAT=HH:mm:ss

# =================================================================
# BACKUP CONFIGURATION
# =================================================================
# Backup Settings
BACKUP_DIR=backups
BACKUP_RETENTION_DAYS=30
ENABLE_AUTO_BACKUP=true

# S3 Backup (optional)
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_REGION=us-east-1
AWS_S3_BUCKET=smartlock-backups

# =================================================================
# SSL/TLS CONFIGURATION
# =================================================================
# SSL Settings (for HTTPS)
SSL_ENABLED=false
SSL_CERT_PATH=ssl/cert.pem
SSL_KEY_PATH=ssl/key.pem
SSL_CA_PATH=ssl/ca.pem

# Force HTTPS redirect
FORCE_HTTPS=false

# =================================================================
# PERFORMANCE SETTINGS
# =================================================================
# Request body limits
REQUEST_BODY_LIMIT=10mb
REQUEST_PARAMETER_LIMIT=1000
REQUEST_URL_LENGTH_LIMIT=2048

# Compression
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# =================================================================
# SECURITY HEADERS
# =================================================================
# Helmet.js configuration
ENABLE_SECURITY_HEADERS=true
HSTS_MAX_AGE=31536000
CONTENT_SECURITY_POLICY=default-src 'self'
REFERRER_POLICY=same-origin

# =================================================================
# TESTING CONFIGURATION
# =================================================================
# Test Database (separate from main database)
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/smartlock_test

# Test Settings
TEST_JWT_SECRET=test_jwt_secret_not_for_production
TEST_TIMEOUT=30000

# =================================================================
# ADDITIONAL NOTES
# =================================================================
# 
# SECURITY REMINDERS:
# 1. Change ALL default passwords and secrets
# 2. Use strong, randomly generated values for JWT_SECRET and SESSION_SECRET
# 3. Enable SSL/TLS in production
# 4. Use environment-specific values for each deployment
# 5. Never commit .env files to version control
# 6. Regularly rotate API keys and secrets
# 7. Use least privilege principle for database users
# 8. Monitor and audit access logs regularly
# 
# PRODUCTION CHECKLIST:
# □ Update all placeholder values
# □ Set NODE_ENV=production
# □ Enable SSL_ENABLED=true
# □ Set DB_SSL=true
# □ Configure proper CORS_ORIGIN
# □ Set strong JWT_SECRET (64+ characters)
# □ Set strong SESSION_SECRET (64+ characters)
# □ Configure production database
# □ Set up proper logging
# □ Configure backup settings
# □ Test all email notifications
# □ Verify hardware connectivity
# □ Set up monitoring and alerts
# 
# =================================================================